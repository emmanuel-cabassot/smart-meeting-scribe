# === DOCKER DEV MODE ===
# Utilisé pour le développement avec hot-reload
FROM node:22-alpine

WORKDIR /app

# Copie les fichiers de dépendances
COPY package.json package-lock.json ./

# Installe les dépendances
RUN npm ci

# Le code source sera monté en volume
# Pas de COPY . . ici !

# Désactive la télémétrie Next.js
ENV NEXT_TELEMETRY_DISABLED=1

# Port dev
EXPOSE 3000

# Commande dev avec hot-reload
CMD ["npm", "run", "dev"]
